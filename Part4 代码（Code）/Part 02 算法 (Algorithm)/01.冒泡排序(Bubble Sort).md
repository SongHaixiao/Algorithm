# 冒泡排序 （Bubble Sort）

## 未优化代码：全部遍历

### Java

```java
// java code

// 冒泡排序，a表示数组，n表示数组大小
public void bubbleSort(int[] a, int n) {
  if (n <= 1) return;
 
 for (int i = 0; i < n; ++i) {

    for (int j = 0; j < n - i - 1; ++j) {
      if (a[j] > a[j+1]) { // 交换
        int tmp = a[j];
        a[j] = a[j+1];
        a[j+1] = tmp;
      }
    }
  }
}
```

### Python

```python
# python

# bubble sort, a is an array, n is the size of a
def bubble_sort(a, n):
    
    if n <= 1:
        return
    
    # travel all elements in arr
    for i in range(n):
        
        # last i elements are ready in sort
        for j in range(n-i-1):
            
            # if prior number < posterior number
            # swap
            if a[j] > a[j+1]:
                a[j],a[j+1]=a[j+1],a[j]
                
```



## 优化代码：没有交换（已排好序）提前结束

### Java

```java
// java code

// 冒泡排序，a表示数组，n表示数组大小
public void bubbleSort(int[] a, int n) {
  if (n <= 1) return;
 
 for (int i = 0; i < n; ++i) {
    // 提前退出冒泡循环的标志位
    boolean flag = false;
    for (int j = 0; j < n - i - 1; ++j) {
      if (a[j] > a[j+1]) { // 交换
        int tmp = a[j];
        a[j] = a[j+1];
        a[j+1] = tmp;
        flag = true;  // 表示有数据交换      
      }
    }
    if (!flag) break;  // 没有数据交换，提前退出
  }
}
```



### Python

```python
# python

# bubble sort, a is an array, n is the size of a
def bubble_sort(a, n):

    if n <= 1:
        return

    # travel all elements in arr
    for i in range(n):

        # the sign of early quiting
        swap = False

        # last i elements are ready in sort
        for j in range(n - i - 1):

            # if prior number < posterior number
            # swap them, set swap as True
            if a[j] > a[j + 1]:
                a[j], a[j + 1] = a[j + 1], a[j]
                swap = True
		# no swap, quit early
        if swap == False:
            break
```

